<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SUDO44 â€“ Juego final</title>
<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:linear-gradient(270deg,#ff9a2f,#ff7a00,#ff6a00);
  background-size:400% 400%;animation:bgMove 14s ease infinite
}
@keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

#loader{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;z-index:10}
#loader h1{font-size:56px;margin:0}
#loader p{margin:8px 0;font-size:14px;opacity:.9}
#startBtn{margin-top:20px;padding:14px 26px;border:none;border-radius:30px;font-size:16px;font-weight:bold;background:#fff;color:#ff6a00;cursor:pointer}

#game{display:none;flex-direction:column;align-items:center;width:100%;max-width:420px;padding:20px}

#header,#footer{width:100%;display:flex;justify-content:center;margin:10px 0}
#header img,#footer img{max-width:100%;height:auto;}
#instructions{font-size:18px;line-height:1.4;text-align:center;margin-bottom:16px;color:#000;background:#fff;border-radius:12px;padding:12px}

.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;width:100%;position:relative}
.cell input{
  width:100%;aspect-ratio:1/1;text-align:center;font-size:20px;font-weight:bold;
  border-radius:8px;border:2px solid #ff6a00
}
.cell input[disabled]{background:#ffe2c7}
.cell.resolved{animation:success 0.6s ease-in-out}
.cell.resolved input{
  background:rgba(46,204,113,.5);
  border-color:#2ecc71;
}
@keyframes success{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}

#status{margin-top:12px;color:#fff;font-weight:bold;text-align:center}
</style>
</head>
<body>

<div id="loader">
  <div id="mockup" style="background:#fff;color:#000;padding:20px;border-radius:16px;max-width:360px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.2);margin-bottom:20px">
    <h2 style="margin-top:0">Â¿CÃ³mo jugar SUDO44?</h2>
    <p style="font-size:16px;line-height:1.4">
      Completa el tablero usando nÃºmeros del <strong>1 al 22</strong>.<br><br>
      Cada <strong>bloque 2Ã—2</strong> debe sumar exactamente <strong>44</strong>.<br><br>
      No puedes repetir nÃºmeros.
    </p>
    <p style="font-weight:bold">El reto es lograr el 44.</p>
  </div>
  <h1>44</h1>
  <p>SUDO44</p>
  <p>by Leonidas Name GÃ³mez</p>
  <button id="startBtn">Iniciar juego</button>
</div>

<div id="game">
  <div id="header">
  <img src="header.png" alt="Header">
  </div>

  <div id="instructions">
    Completa el tablero 4Ã—4 usando nÃºmeros del <strong>1 al 22</strong>.<br>
    Cada <strong>bloque 2Ã—2</strong> debe sumar <strong>44</strong>.<br>
    No repitas nÃºmeros.
  </div>

  <div class="grid" id="grid"></div>
  <div id="status"></div>

  <div id="footer">
    <!-- Para brandear: <img src="footer.png" alt="Footer"> -->
  </div>
</div>

<script>
function startInstructions(){
  document.getElementById('loader').style.display='none';
  document.getElementById('game').style.display='flex';
  initGame();
}
document.getElementById('startBtn').onclick=startInstructions;

const TARGET_SUM=44;
let gridEl=document.getElementById('grid');
let statusEl=document.getElementById('status');

const SOLUTION=[
  1,22,11,10,
  21,2,12,9,
  8,15,7,14,
  14,5,13,12
];

function initGame(){
  gridEl.innerHTML='';
  statusEl.textContent='';

  let hints=[...Array(16).keys()].sort(()=>Math.random()-0.5).slice(0,4);

  for(let i=0;i<16;i++){
    let div=document.createElement('div');
    div.className='cell';

    const row=Math.floor(i/4);
    const col=i%4;
    if(row===1) div.style.borderBottom='1.5px solid #000';
    if(col===1) div.style.borderRight='1.5px solid #000';

    let input=document.createElement('input');
    input.type='number';input.min=1;input.max=22;

    if(hints.includes(i)){
      input.value=SOLUTION[i];
      input.disabled=true;
    }

    input.oninput=check;
    div.appendChild(input);gridEl.appendChild(div);
  }
}

function check(){
  let inputs=[...gridEl.querySelectorAll('input')];
  let values=inputs.map(i=>Number(i.value)||0);

  let used=values.filter(v=>v>0);
  if(new Set(used).size!==used.length){ statusEl.textContent='No repitas nÃºmeros'; return; }

  for(let r=0;r<4;r+=2){
    for(let c=0;c<4;c+=2){
      let idx=[r*4+c,r*4+c+1,(r+1)*4+c,(r+1)*4+c+1];
      let sum=idx.reduce((a,i)=>a+values[i],0);
      let cells=idx.map(i=>gridEl.children[i]);
      cells.forEach(cell=>cell.classList.remove('resolved'));
      if(sum>0 && sum!==TARGET_SUM){ statusEl.textContent='Cada bloque 2Ã—2 debe sumar 44'; return; }
      if(sum===TARGET_SUM){ cells.forEach(cell=>cell.classList.add('resolved')); }
    }
  }

  if(values.every(v=>v>0)){
    statusEl.textContent='Â¡Lo lograste! 44 conseguido ðŸŽ‰';
  }else{
    statusEl.textContent='Vas bienâ€¦';
  }
}
</script>
</body>
</html>
